<!-- SPDX-License-Identifier: LicenseRef-Proprietary
     Copyright (c) 2025 Ipsutnu. All rights reserved. -->

<!doctype html>
<html lang="pt-br">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
    <title>Blackhole</title>
	<link rel="icon" href="icon.png" type="image/png">
    <style>
	html, body { overscroll-behavior: none; }
canvas, body { touch-action: none; -webkit-user-select: none; user-select: none; }
      :root { color-scheme: dark; }
      * { box-sizing: border-box; }
      html, body { height: 100%; margin: 0; }
      body {
        background: #000;
        overflow: hidden;
        font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      }
       #hint {
        position: fixed;
        left: 50%;
        bottom: 24px;
        transform: translateX(-50%);
        padding: 8px 12px;
        border-radius: 999px;
        background: rgba(255,255,255,0.06);
        backdrop-filter: blur(6px);
        -webkit-backdrop-filter: blur(6px);
        color: #cfcfcf;
        font-size: 12px;
        letter-spacing: .2px;
        user-select: none;
        pointer-events: none;
        box-shadow: 0 4px 20px rgba(0,0,0,.6);
        z-index: 100;
        opacity: 0;
        transition: opacity 0.3s ease-in-out;
      }
      #hint:hover {
        opacity: 1;
        pointer-events: auto;
      }
      a { 
        color: #9bdcff; 
        text-decoration: none; 
        pointer-events: auto; 
        cursor: pointer;
      }
      #loading {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        color: #fff;
        font-size: 18px;
        z-index: 50;
      }
      #error {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        color: #ff6b6b;
        font-size: 16px;
        text-align: center;
        z-index: 50;
        display: none;
      }
      #debug {
        position: fixed;
		display: none;
        top: 20px;
        right: 20px;
        color: rgba(255,255,255,0.7);
        font-size: 11px;
        font-family: monospace;
        background: rgba(0,0,0,0.5);
        padding: 12px;
        border-radius: 6px;
        backdrop-filter: blur(8px);
        z-index: 90;
        border: 1px solid rgba(255,255,255,0.1);
      }
      #controls {
        position: fixed;
        bottom: 60px;
        left: 20px;
        color: rgba(255,255,255,0.8);
        font-size: 12px;
        background: rgba(0,0,0,0.6);
        padding: 12px;
        border-radius: 6px;
        backdrop-filter: blur(8px);
        z-index: 90;
        border: 1px solid rgba(255,255,255,0.1);
      }
      .control-button {
        background: rgba(255,255,255,0.1);
        border: 1px solid rgba(255,255,255,0.2);
        color: #fff;
        padding: 4px 8px;
        margin: 2px;
        border-radius: 4px;
        cursor: pointer;
        font-size: 11px;
      }
      .control-button:hover {
        background: rgba(255,255,255,0.2);
      }
      .control-button.active {
        background: rgba(0,150,255,0.3);
        border-color: rgba(0,150,255,0.5);
      }
      canvas { display: block; }
    </style>
  </head>
  <body>
    <div id="loading">Carregando Buraco Negro Híbrido...</div>
    <div id="error">
      Erro ao carregar Three.js<br>
      <small>Verifique sua conexão com a internet</small>
    </div>
    <div id="hint"> Duplo clique: Mini meteoro • <a href="#" id="reset">Reset</a> • <a href="#" id="toggle-debug">Debug</a> • <a href="#" id="toggle-warp"></a> Botão direito: Acelerar gravidade</div>
    <div id="debug">
      Distância: <span id="distance">0</span> UA<br>
      Meteoros: <span id="mini-meteors">0</span><br>
      Gravidade: <span id="gravity-status">1x</span><br>
      FPS: <span id="fps">0</span>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script>
      if(typeof THREE==='undefined'){document['getElementById']('loading')['style']['display']='none',document['getElementById']('error')['style']['display']='block';throw new Error('Three.js\x20não\x20pôde\x20ser\x20carregado');}document['getElementById']('loading')['style']['display']='none';const a=new THREE['Scene'](),b=new THREE['PerspectiveCamera'](0x4b,window['innerWidth']/window['innerHeight'],0.1,0x7d0);b['position']['set'](0x0,0x8,0xf);const c=new THREE['WebGLRenderer']({'antialias':!![],'powerPreference':'high-performance','precision':'highp'});c['setSize'](window['innerWidth'],window['innerHeight']),c['setClearColor'](0x0),c['setPixelRatio'](Math['min'](window['devicePixelRatio'],0x2)),c['autoClear']=![],document['body']['appendChild'](c['domElement']);const d=c['domElement'],e=Math['PI'],f=0.001;let g=typeof window['coversMuted']==='boolean'?window['coversMuted']:![];function h(ad){g=ad,window['bookSystem']&&Array['isArray'](bookSystem['books'])&&bookSystem['books']['forEach'](ae=>{if(ae['sprite'])ae['sprite']['visible']=!ad;});}const i=/Android.+Mobile|iPhone|iPod/i['test'](navigator['userAgent']||'');document['addEventListener']('DOMContentLoaded',()=>{if(i){const ad=document['getElementById']('hint');if(ad)ad['style']['display']='none';}});let j=![];function k(){if(!i)return;if(document['fullscreenElement']||j)return;j=!![];const ad=c['domElement'],ae=ad['requestFullscreen']||ad['webkitRequestFullscreen']||ad['msRequestFullscreen'];ae&&Promise['resolve'](ae['call'](ad))['catch'](af=>{console['warn']('Fullscreen\x20negado:',af['name'],af['message']),j=![];});}d['addEventListener']('touchstart',k,{'passive':![]}),d['addEventListener']('touchmove',ad=>ad['preventDefault'](),{'passive':![]}),document['addEventListener']('gesturestart',ad=>ad['preventDefault'](),{'passive':![]}),document['addEventListener']('gesturechange',ad=>ad['preventDefault'](),{'passive':![]});const l={'mode':null,'startX':0x0,'startY':0x0,'startPhi':0x0,'startTheta':0x0,'startDist':0x0,'pinchStartDistance':0x0,'threeTap':{'active':![],'t0':0x0,'moved':![]}},m=Math['PI'],n=0.05,o=Math['PI']-0.05;function p(ad,ae){const af=ae['clientX']-ad['clientX'],ag=ae['clientY']-ad['clientY'];return Math['hypot'](af,ag);}d['addEventListener']('touchstart',ad=>{if(ad['touches']['length']===0x1){const ae=ad['touches'][0x0];l['mode']='orbit',l['startX']=ae['clientX'],l['startY']=ae['clientY'],l['startPhi']=z['camera']['targetPhi']??z['camera']['phi']??0x0,l['startTheta']=z['camera']['targetTheta']??z['camera']['theta']??0x0;}else{if(ad['touches']['length']===0x2){const [af,ag]=ad['touches'];l['mode']='pinch',l['pinchStartDistance']=p(af,ag),l['startDist']=z['camera']['targetDistance']??z['camera']['distance']??0xa;}else ad['touches']['length']===0x3&&(l['threeTap']['active']=!![],l['threeTap']['t0']=performance['now'](),l['threeTap']['moved']=![]);}},{'passive':![]}),d['addEventListener']('touchmove',ad=>{if(ad['touches']['length']===0x1&&l['mode']==='orbit'){const ae=ad['touches'][0x0],af=(ae['clientX']-l['startX'])/d['clientWidth'],ag=(ae['clientY']-l['startY'])/d['clientHeight'],ah=l['startTheta']-af*m;let ai=l['startPhi']-ag*m;ai=Math['max'](n,Math['min'](o,ai)),z['camera']['targetTheta']=ah,z['camera']['targetPhi']=ai;}else{if(ad['touches']['length']===0x2){const [aj,ak]=ad['touches'],al=p(aj,ak),am=al>0x0&&l['pinchStartDistance']>0x0?al/l['pinchStartDistance']:0x1;let an=l['startDist']/am;const ao=z['minDistance']??0x1,ap=z['maxDistance']??0x64;an=Math['max'](ao,Math['min'](ap,an)),z['camera']['targetDistance']=an;}else ad['touches']['length']>=0x3&&l['threeTap']['active']&&(l['threeTap']['moved']=!![]);}},{'passive':![]}),d['addEventListener']('touchend',ad=>{if(l['threeTap']['active']&&ad['touches']['length']===0x0){const ae=performance['now']()-l['threeTap']['t0'];ae<0x12c&&!l['threeTap']['moved']&&h(!g),l['threeTap']['active']=![];}if(ad['touches']['length']===0x0)l['mode']=null;else{if(ad['touches']['length']===0x1){l['mode']='orbit';const af=ad['touches'][0x0];l['startX']=af['clientX'],l['startY']=af['clientY'],l['startPhi']=z['camera']['targetPhi']??z['camera']['phi']??0x0,l['startTheta']=z['camera']['targetTheta']??z['camera']['theta']??0x0;}}},{'passive':![]}),document['addEventListener']('dblclick',ad=>ad['preventDefault'](),{'passive':![]});const q={'count':0x2,'radius':0x3e8,'center':new THREE['Vector3'](0x0,0x0,0x0),'starSize':0x5,'trailSegments':0x14d,'trailOpacity':0.03,'omegaMin':THREE['MathUtils']['degToRad'](0x12),'omegaMax':THREE['MathUtils']['degToRad'](0x1c),'precessionMin':THREE['MathUtils']['degToRad'](0x2),'precessionMax':THREE['MathUtils']['degToRad'](0x5)};function r(ad=0x80){const ae=document['createElement']('canvas');ae['width']=ae['height']=ad;const af=ae['getContext']('2d'),ag=af['createRadialGradient'](ad/0x2,ad/0x2,0x0,ad/0x2,ad/0x2,ad/0x2);ag['addColorStop'](0x0,'rgba(255,255,255,1)'),ag['addColorStop'](0.2,'rgba(255,255,255,0.9)'),ag['addColorStop'](0.5,'rgba(255,255,255,0.25)'),ag['addColorStop'](0x1,'rgba(255,255,255,0)'),af['fillStyle']=ag,af['beginPath'](),af['arc'](ad/0x2,ad/0x2,ad/0x2,0x0,Math['PI']*0x2),af['fill']();const ah=new THREE['CanvasTexture'](ae);return ah['minFilter']=THREE['LinearFilter'],ah['magFilter']=THREE['LinearFilter'],ah;}function s(){let ad,ae,af,ag;do{ad=Math['random']()*0x2-0x1,ae=Math['random']()*0x2-0x1,af=Math['random']()*0x2-0x1,ag=ad*ad+ae*ae+af*af;}while(ag<0.000001||ag>0x1);const ah=0x1/Math['sqrt'](ag);return new THREE['Vector3'](ad*ah,ae*ah,af*ah);}class t{constructor(ad,ae,af){this['cfg']=af;const ag=new THREE['SpriteMaterial']({'map':ae,'transparent':!![],'depthWrite':![],'depthTest':!![],'blending':THREE['AdditiveBlending'],'opacity':0x1});this['sprite']=new THREE['Sprite'](ag),this['sprite']['scale']['setScalar'](af['starSize']),this['sprite']['renderOrder']=-0x32;const ah=new THREE['BufferGeometry'](),ai=new Float32Array(af['trailSegments']*0x3);ah['setAttribute']('position',new THREE['BufferAttribute'](ai,0x3)),ah['attributes']['position']['setUsage'](THREE['DynamicDrawUsage']);const aj=new THREE['LineBasicMaterial']({'color':0xffffff,'transparent':!![],'opacity':af['trailOpacity'],'depthWrite':![],'depthTest':!![],'blending':THREE['AdditiveBlending']});this['trail']=new THREE['Line'](ah,aj),this['trail']['frustumCulled']=![],this['trail']['renderOrder']=-0x28,ad['add'](this['sprite']),ad['add'](this['trail']),this['center']=af['center']['clone'](),this['radius']=af['radius'],this['q']=new THREE['Quaternion'](),this['axisA']=s(),this['axisB']=s(),this['omega']=THREE['MathUtils']['randFloat'](af['omegaMin'],af['omegaMax']),this['precession']=THREE['MathUtils']['randFloat'](af['precessionMin'],af['precessionMax']);const ak=s();this['v0']=ak['sub'](this['axisA']['clone']()['multiplyScalar'](ak['dot'](this['axisA'])))['normalize'](),this['_setPositionFromQuat']();const al=this['trail']['geometry']['getAttribute']('position');for(let am=0x0;am<af['trailSegments'];am++){al['array'][0x3*am+0x0]=this['pos']['x'],al['array'][0x3*am+0x1]=this['pos']['y'],al['array'][0x3*am+0x2]=this['pos']['z'];}al['needsUpdate']=!![],this['_qMain']=new THREE['Quaternion'](),this['_qPrec']=new THREE['Quaternion']();}['_setPositionFromQuat'](){const ad=this['v0']['clone']()['applyQuaternion'](this['q'])['multiplyScalar'](this['radius']);this['pos']=this['center']['clone']()['add'](ad);}['update'](ad){this['_qMain']['setFromAxisAngle'](this['axisA'],this['omega']*ad),this['_qPrec']['setFromAxisAngle'](this['axisB'],this['precession']*ad),this['q']['premultiply'](this['_qPrec']),this['q']['premultiply'](this['_qMain']),this['q']['normalize'](),this['_setPositionFromQuat'](),this['sprite']['position']['copy'](this['pos']);const ae=this['trail']['geometry']['getAttribute']('position'),af=this['cfg']['trailSegments'];for(let ag=af-0x1;ag>0x0;ag--){ae['array'][0x3*ag+0x0]=ae['array'][0x3*(ag-0x1)+0x0],ae['array'][0x3*ag+0x1]=ae['array'][0x3*(ag-0x1)+0x1],ae['array'][0x3*ag+0x2]=ae['array'][0x3*(ag-0x1)+0x2];}ae['array'][0x0]=this['pos']['x'],ae['array'][0x1]=this['pos']['y'],ae['array'][0x2]=this['pos']['z'],ae['needsUpdate']=!![];}}class u{constructor(ad,ae){this['comets']=[];const af=r(0x80);for(let ag=0x0;ag<ae['count'];ag++){const ah=new t(ad,af,ae);ah['q']['setFromAxisAngle'](ah['axisA'],ag/ae['count']*Math['PI']*0x2)['multiply'](ah['q']),this['comets']['push'](ah);}}['update'](ad){for(const ae of this['comets'])ae['update'](ad);}}const v={'HYBRID':'hybrid','SHADER_ONLY':'shader','PHYSICS_ONLY':'physics'};let w=v['HYBRID'];const x=new THREE['OrthographicCamera'](-0x1,0x1,0x1,-0x1,0.1,0xa);x['position']['set'](0x0,0x0,0x1);const y=new THREE['Scene'](),z={'camera':{'distance':0xc,'targetDistance':0xc,'phi':Math['PI']*0.3,'theta':0x0,'targetPhi':Math['PI']*0.3,'targetTheta':0x0},'damping':0.08,'minDistance':0x3,'maxDistance':0x12c,'sensitivity':0x2,'warpSpace':!![]};let A=![],B=0x1;const C=[];let D=0x0;const E=new THREE['Vector3'](0x0,0x8,0xf),F='\x0a\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20void\x20main()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vUv\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20vec4(position,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20',G='\x0a\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20uTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20uCameraPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20uWarpSpace;\x0a\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20uResolution;\x0a\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20uMixFactor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20PI\x20=\x203.14159265359;\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20hash(vec3\x20p)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20p\x20=\x20fract(p\x20*\x200.3183099\x20+\x200.1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20p\x20*=\x2017.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20fract(p.x\x20*\x20p.y\x20*\x20p.z\x20*\x20(p.x\x20+\x20p.y\x20+\x20p.z));\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20blackbody(float\x20temp)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20temp\x20=\x20max(temp,\x2010.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20temp\x20*=\x20100.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20r,\x20g,\x20b;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(temp\x20<\x203300.0)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20r\x20=\x201.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20g\x20=\x20max(0.0,\x200.39\x20*\x20pow(max(temp\x20/\x201000.0,\x200.1),\x20-0.63));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20b\x20=\x200.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20if\x20(temp\x20<\x206600.0)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20r\x20=\x201.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20g\x20=\x20max(0.0,\x200.39\x20*\x20pow(max(temp\x20/\x201000.0,\x200.1),\x20-0.63));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20b\x20=\x20max(0.0,\x201.15\x20*\x20pow(max(temp\x20/\x201000.0\x20-\x2019.0,\x200.1),\x20-1.5));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20r\x20=\x20max(0.0,\x201.35\x20*\x20pow(max(temp\x20/\x201000.0,\x200.1),\x20-0.55));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20g\x20=\x20max(0.0,\x201.00\x20*\x20pow(max(temp\x20/\x201000.0,\x200.1),\x20-0.32));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20b\x20=\x201.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec3(r,\x20g,\x20b);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20calculateStars(vec3\x20worldDir)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20angleY\x20=\x20uTime\x20*\x200.002;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20rotation\x20=\x20mat3(cos(angleY),\x200,\x20sin(angleY),\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x200,\x201,\x200,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-sin(angleY),\x200,\x20cos(angleY));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20worldDir\x20=\x20rotation\x20*\x20worldDir;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20scale\x20=\x20384.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20coverage\x20=\x200.007;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20maxLuminance\x20=\x200.04;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20p\x20=\x20worldDir\x20*\x20scale;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20i\x20=\x20floor(p);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20f\x20=\x20p\x20-\x20i;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20r\x20=\x20dot(f\x20-\x200.5,\x20f\x20-\x200.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20hashValue\x20=\x20hash(i);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20starFactor\x20=\x20step(1.0\x20-\x20coverage,\x20hashValue);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20brightness\x20=\x20maxLuminance\x20*\x20smoothstep(0.25,\x200.0,\x20r)\x20*\x20starFactor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20temp\x20=\x204000.0\x20+\x20hashValue\x20*\x204000.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20brightness\x20*\x20blackbody(temp);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20void\x20main()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20screenPos\x20=\x20vUv\x20*\x202.0\x20-\x201.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20screenPos.x\x20*=\x20uResolution.x\x20/\x20uResolution.y;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20distance\x20=\x20length(uCameraPosition);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20forward\x20=\x20normalize(-uCameraPosition);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20right\x20=\x20normalize(cross(forward,\x20vec3(0.0,\x201.0,\x200.0)));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20up\x20=\x20cross(right,\x20forward);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20fov\x20=\x200.8\x20+\x20(1.0\x20/\x20(distance\x20*\x200.1\x20+\x200.1));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20rayDir\x20=\x20normalize(forward\x20+\x20screenPos.x\x20*\x20right\x20*\x20fov\x20+\x20screenPos.y\x20*\x20up\x20*\x20fov);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20center\x20=\x20vec3(0.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20distToCenter\x20=\x20length(uCameraPosition);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20gravitationalLensing\x20=\x201.0\x20/\x20(distToCenter\x20*\x200.1\x20+\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20result\x20=\x20vec3(0.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20rayPos\x20=\x20uCameraPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20steps\x20=\x2020.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20stepSize\x20=\x200.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(float\x20i\x20=\x200.0;\x20i\x20<\x20steps;\x20i++)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20rayPos\x20+=\x20rayDir\x20*\x20stepSize;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20r\x20=\x20length(rayPos.xz);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20h\x20=\x20rayPos.y;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(r\x20>\x202.5\x20&&\x20r\x20<\x208.0\x20&&\x20abs(h)\x20<\x200.3)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20intensity\x20=\x201.0\x20/\x20(r\x20*\x20r\x20+\x200.1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20temp\x20=\x2050.0\x20/\x20r;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20glow\x20=\x20blackbody(temp)\x20*\x20intensity\x20*\x200.1;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20result\x20+=\x20glow;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(length(rayPos)\x20<\x202.1)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20result\x20=\x20vec3(0.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20stars\x20=\x20calculateStars(rayDir);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20color\x20=\x20stars\x20+\x20result;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color\x20=\x20color\x20/\x20(1.0\x20+\x20color);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color\x20=\x20pow(color,\x20vec3(1.0/2.2));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(color,\x20uMixFactor);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20',H=new THREE['ShaderMaterial']({'vertexShader':F,'fragmentShader':G,'uniforms':{'uTime':{'value':0x0},'uCameraPosition':{'value':E},'uWarpSpace':{'value':!![]},'uResolution':{'value':new THREE['Vector2'](window['innerWidth'],window['innerHeight'])},'uMixFactor':{'value':0.6}},'side':THREE['DoubleSide'],'transparent':!![],'blending':THREE['AdditiveBlending']}),I=new THREE['PlaneGeometry'](0x2,0x2),J=new THREE['Mesh'](I,H);y['add'](J);function K(){const ad=new THREE['BufferGeometry'](),ae=[],af=[],ag=[],ah=[],ai=0x2,aj=0x1770,ak=0x96;for(let an=0x0;ai>an?!![]:![];an++){const ao=an/ai*Math['PI']*0x2;for(let ap=0x0;ap<aj;ap++){const aq=ap/aj,ar=0x8+aq*ak,as=1.5,at=ao-aq*Math['PI']*0x6*as,au=0x2+Math['sin'](aq*Math['PI']*0x8)*1.5,av=(Math['random']()-0.5)*au,aw=at+Math['PI']/0x2,ax=ar*Math['cos'](at)+av*Math['cos'](aw),ay=ar*Math['sin'](at)+av*Math['sin'](aw),az=(Math['random']()-0.5)*Math['max'](0.5,ar*0.03);ae['push'](ax,az,ay);const aA=new THREE['Color'](0x7a2cf0),aB=new THREE['Color'](0xff00aa),aC=Math['pow'](aq,0.85),aD=aA['clone']()['lerp'](aB,aC);af['push'](aD['r'],aD['g'],aD['b']),ag['push'](0.2+Math['random']()*0.6),ah['push']({'baseRadius':ar,'baseAngle':at,'armIndex':an,'spiralPosition':aq,'orbitalSpeed':0.15/Math['sqrt'](ar/0x8),'randomPhase':Math['random']()*Math['PI']*0x2});}}ad['setAttribute']('position',new THREE['Float32BufferAttribute'](ae,0x3)),ad['setAttribute']('color',new THREE['Float32BufferAttribute'](af,0x3)),ad['setAttribute']('size',new THREE['Float32BufferAttribute'](ag,0x1));const al=new THREE['ShaderMaterial']({'transparent':!![],'depthTest':!![],'depthWrite':![],'blending':THREE['AdditiveBlending'],'vertexColors':!![],'vertexShader':'\x0a\x20\x20\x20\x20\x20\x20attribute\x20float\x20size;\x0a\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vColor;\x0a\x20\x20\x20\x20\x20\x20varying\x20float\x20vDistance;\x0a\x20\x20\x20\x20\x20\x20void\x20main()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20vColor\x20=\x20color;\x0a\x20\x20\x20\x20\x20\x20\x20\x20vDistance\x20=\x20length(position);\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20mvPosition\x20=\x20modelViewMatrix\x20*\x20vec4(position,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_PointSize\x20=\x20size\x20*\x20(100.0\x20/\x20-mvPosition.z);\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20mvPosition;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20','fragmentShader':'\x0a\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vColor;\x0a\x20\x20\x20\x20\x20\x20varying\x20float\x20vDistance;\x0a\x20\x20\x20\x20\x20\x20void\x20main()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20center\x20=\x20gl_PointCoord\x20-\x20vec2(0.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20dist\x20=\x20length(center);\x0a\x20\x20\x20\x20\x20\x20\x20\x20if\x20(dist\x20>\x200.5)\x20discard;\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20opacity\x20=\x20(1.0\x20-\x20smoothstep(0.0,\x200.5,\x20dist))\x20*\x200.4;\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20core\x20\x20\x20\x20=\x20(1.0\x20-\x20smoothstep(0.0,\x200.2,\x20dist))\x20*\x200.6;\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20maxDistance\x20=\x20150.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20fadeFactor\x20=\x201.0\x20-\x20clamp(vDistance\x20/\x20maxDistance,\x200.0,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20a\x20=\x20(opacity\x20+\x20core)\x20*\x20fadeFactor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20col\x20=\x20vColor\x20*\x20a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(col,\x20a);\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'});al['premultipliedAlpha']=!![],al['needsUpdate']=!![];const am=new THREE['Points'](ad,al);return am['renderOrder']=0x320,a['add'](am),{'mesh':am,'geometry':ad,'data':ah};}const L=K();function M(){const ad=new THREE['BufferGeometry'](),ae=[],af=[];for(let ah=0x0;ah<0xfa0;ah++){const ai=0x1f4+Math['random']()*0x5dc,aj=Math['random']()*Math['PI']*0x2,ak=Math['random']()*Math['PI'],al=ai*Math['sin'](ak)*Math['cos'](aj),am=ai*Math['sin'](ak)*Math['sin'](aj),an=ai*Math['cos'](ak);ae['push'](al,am,an);const ao=Math['random'](),ap=ao>0.7?0x1:0.8+ao*0.2,aq=ao>0.5?0.9+ao*0.1:0.7+ao*0.3,ar=ao<0.3?0x1:0.6+ao*0.4;af['push'](ap,aq,ar);}ad['setAttribute']('position',new THREE['Float32BufferAttribute'](ae,0x3)),ad['setAttribute']('color',new THREE['Float32BufferAttribute'](af,0x3));const ag=new THREE['PointsMaterial']({'size':0x2,'vertexColors':!![],'transparent':!![],'opacity':0.8});return new THREE['Points'](ad,ag);}const N=M();a['add'](N);const O=new u(a,q);function P(){const ad=new THREE['BufferGeometry'](),ae=[],af=[],ag=[],ah=[],ai=0x1388;for(let al=0x0;al<ai;al++){const am=0xf+Math['random']()*0x28,an=Math['random']()*Math['PI']*0x2,ao=(Math['random']()-0.5)*Math['max'](0.3,am*0.02),ap=am*Math['cos'](an),aq=ao,ar=am*Math['sin'](an);ae['push'](ap,aq,ar);const as=0.2+Math['random']()*0.3;af['push'](0.4+as*0.6,0.3+as*0.4,0.2+as*0.3),ag['push'](0.1+Math['random']()*0.4),ah['push'](0.1+Math['random']()*0.2);}ad['setAttribute']('position',new THREE['Float32BufferAttribute'](ae,0x3)),ad['setAttribute']('color',new THREE['Float32BufferAttribute'](af,0x3)),ad['setAttribute']('size',new THREE['Float32BufferAttribute'](ag,0x1));const aj=new THREE['ShaderMaterial']({'transparent':!![],'depthTest':!![],'depthWrite':![],'blending':THREE['AdditiveBlending'],'vertexColors':!![],'vertexShader':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20size;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vSize;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20void\x20main()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vColor\x20=\x20color;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vSize\x20=\x20size;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20mvPosition\x20=\x20modelViewMatrix\x20*\x20vec4(position,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_PointSize\x20=\x20size\x20*\x20(150.0\x20/\x20-mvPosition.z);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20mvPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fragmentShader':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vSize;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20void\x20main()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20center\x20=\x20gl_PointCoord\x20-\x20vec2(0.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20dist\x20=\x20length(center);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(dist\x20>\x200.5)\x20discard;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20opacity\x20=\x20(1.0\x20-\x20smoothstep(0.0,\x200.5,\x20dist))\x20*\x200.15;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(vColor,\x20opacity);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'}),ak=new THREE['Points'](ad,aj);return a['add'](ak),{'mesh':ak,'geometry':ad,'particleCount':ai};}const Q=P(),R=new THREE['SphereGeometry'](0x2,0x40,0x40),S=new THREE['MeshBasicMaterial']({'color':0x0,'transparent':!![],'opacity':0x1}),T=new THREE['Mesh'](R,S);a['add'](T);const U=[];function V(){const ad=0xc;for(let ae=0x0;ae<ad;ae++){const af=2.5+ae*0.4,ag=af+0.3,ah=0x40,ai=new THREE['RingGeometry'](af,ag,ah,0x1),aj=Math['pow'](0x1-ae/ad,0.8);let ak;if(aj>0.9)ak=new THREE['Color'](0x1,0.95,0.8);else{if(aj>0.7)ak=new THREE['Color'](0x1,0.9,0.3);else aj>0.4?ak=new THREE['Color'](0x1,0.5,0.1):ak=new THREE['Color'](0x1,0.2,0.05);}const al=new THREE['MeshBasicMaterial']({'color':ak,'side':THREE['DoubleSide'],'transparent':!![],'opacity':0.3+aj*0.5,'blending':THREE['AdditiveBlending']}),am=new THREE['Mesh'](ai,al);am['rotation']['x']=-Math['PI']/0x2,am['rotation']['z']=(Math['random']()-0.5)*0.1;const an=0.03/Math['sqrt'](af/2.5);U['push']({'mesh':am,'radius':af,'speed':an,'baseSpeed':an,'angle':Math['random']()*Math['PI']*0x2,'wobble':(Math['random']()-0.5)*0.02,'wobbleSpeed':0.005+Math['random']()*0.01}),a['add'](am);}}V();const W={'geometry':new THREE['BufferGeometry'](),'material':new THREE['ShaderMaterial']({'transparent':!![],'blending':THREE['AdditiveBlending'],'vertexColors':!![],'vertexShader':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20size;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20brightness;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20trail;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vBrightness;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vTrail;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20void\x20main()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vColor\x20=\x20color;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vBrightness\x20=\x20brightness;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vTrail\x20=\x20trail;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20mvPosition\x20=\x20modelViewMatrix\x20*\x20vec4(position,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_PointSize\x20=\x20size\x20*\x20(200.0\x20/\x20-mvPosition.z);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20mvPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fragmentShader':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vBrightness;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vTrail;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20void\x20main()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20center\x20=\x20gl_PointCoord\x20-\x20vec2(0.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20dist\x20=\x20length(center);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(dist\x20>\x200.5)\x20discard;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20core\x20=\x201.0\x20-\x20smoothstep(0.0,\x200.3,\x20dist);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20glow\x20=\x201.0\x20-\x20smoothstep(0.0,\x200.5,\x20dist);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20opacity\x20=\x20(core\x20*\x200.8\x20+\x20glow\x20*\x200.2)\x20*\x20vBrightness;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20opacity\x20=\x20smoothstep(0.0,\x201.0,\x20opacity);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20centerBoost\x20=\x201.0\x20-\x20smoothstep(0.0,\x200.15,\x20dist);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20finalColor\x20=\x20vColor\x20*\x20(1.0\x20+\x20centerBoost\x20*\x200.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(finalColor,\x20opacity);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'}),'data':[]};function X(){const ad=0x2daa,ae=[],af=[],ag=[],ah=[],ai=[];for(let ak=0x0;ak<ad;ak++){const al=Math['pow'](Math['random'](),0.25),am=2.5+al*0x19,an=Math['random']()*Math['PI']*0x2,ao=(Math['random']()-0.5)*Math['max'](0.08,am*0.04),ap=am*Math['cos'](an),aq=ao,ar=am*Math['sin'](an),as=Math['pow'](2.5/am,0.5),at=Math['sqrt'](0xf/am);let au,av,aw;if(as>0.85)au=0x1,av=0x1,aw=0x0+(as-0.85)*0.5;else{if(as>0.4){const aD=(as-0.5)/0.35;au=0x1,av=0.7+aD*0.6,aw=0x0;}else au=0x1,av=as*1.1,aw=0x0;}const ax=0.3+as*0.8,ay=ax*(0.8+Math['random']()*0.4);let az=0.5+as*0.5+Math['random']()*0.3;const aA=0x16,aB=0x1e;if(am>aA){const aE=0x1-(am-aA)/(aB-aA);az*=Math['max'](0x0,Math['min'](0x1,aE));}if(az<0.2)continue;ae['push'](ap,aq,ar),af['push'](au,av,aw),ag['push'](ay),ah['push'](az);const aC=0.3+at*0.2+Math['random']()*0.4;ai['push'](aC),W['data']['push']({'radius':am,'angle':an,'height':ao,'baseHeight':ao,'orbitalSpeed':at/am*0.8,'baseOrbitalSpeed':at/am*0.8,'temperature':as,'turbulence':Math['random']()*0.02,'phase':Math['random']()*Math['PI']*0x2,'wobbleSpeed':0.008+Math['random']()*0.025,'brightnessFactor':az,'trailLength':aC,'flickerSpeed':0x1+Math['random']()*0x3});}W['geometry']['setAttribute']('position',new THREE['Float32BufferAttribute'](ae,0x3)),W['geometry']['setAttribute']('color',new THREE['Float32BufferAttribute'](af,0x3)),W['geometry']['setAttribute']('size',new THREE['Float32BufferAttribute'](ag,0x1)),W['geometry']['setAttribute']('brightness',new THREE['Float32BufferAttribute'](ah,0x1)),W['geometry']['setAttribute']('trail',new THREE['Float32BufferAttribute'](ai,0x1)),W['material']['transparent']=!![],W['material']['depthTest']=!![],W['material']['depthWrite']=![],W['material']['blending']=THREE['AdditiveBlending'],W['material']['alphaTest']=0.15,W['material']['needsUpdate']=!![];const aj=new THREE['Points'](W['geometry'],W['material']);return a['add'](aj),aj;}const Y=X();function Z(ad,ae,af){const ag=new THREE['SphereGeometry'](0.05,0x8,0x8),ah=new THREE['MeshBasicMaterial']({'color':0xffffff}),ai=new THREE['Mesh'](ag,ah);ai['position']['set'](ad,ae,af),a['add'](ai);const aj=0x1e,ak=new THREE['BufferGeometry'](),al=new Float32Array(aj*0x3),am=new Float32Array(aj*0x3);ak['setAttribute']('position',new THREE['BufferAttribute'](al,0x3)),ak['setAttribute']('color',new THREE['BufferAttribute'](am,0x3)),ak['attributes']['position']['setUsage'](THREE['DynamicDrawUsage']);for(let ap=0x0;ap<aj;ap++){al[ap*0x3]=ad,al[ap*0x3+0x1]=ae,al[ap*0x3+0x2]=af;const aq=ap/aj;am[ap*0x3]=(0x1-aq)*0x1,am[ap*0x3+0x1]=(0x1-aq)*0.4,am[ap*0x3+0x2]=(0x1-aq)*0.1;}ak['setAttribute']('position',new THREE['BufferAttribute'](al,0x3)),ak['setAttribute']('color',new THREE['BufferAttribute'](am,0x3));const an=new THREE['LineBasicMaterial']({'vertexColors':!![],'blending':THREE['AdditiveBlending'],'transparent':!![],'depthWrite':![],'linewidth':0x2}),ao=new THREE['Line'](ak,an);ao['renderOrder']=0x3e7,ao['frustumCulled']=![],a['add'](ao),C['push']({'mesh':ai,'trailMesh':ao,'trailGeometry':ak,'positions':al,'colors':am,'life':0x1e,'position':new THREE['Vector3'](ad,ae,af),'velocity':new THREE['Vector3'](0x0,0x0,0x0)}),D++;}function a0(ad){for(let ae=C['length']-0x1;ae>=0x0;ae--){const af=C[ae],{position:ag,velocity:ah,trailMesh:ai,trailGeometry:aj,positions:ak,colors:al}=af,am=ag['length']();if(am>0.1){const aq=0xa/(am*am+0.3),ar=ag['clone']()['normalize']()['multiplyScalar'](-0x1);ah['add'](ar['multiplyScalar'](aq*ad));}if(ah['length']()<0x2){const as=ag['clone']()['normalize']()['multiplyScalar'](-0x2);ah['add'](as['multiplyScalar'](ad*0.5));}ag['add'](ah['clone']()['multiplyScalar'](ad)),af['mesh']['position']['copy'](ag);const an=ak['length']/0x3,ao=aj['attributes']['position'];for(let at=an-0x1;at>0x0;at--){ao['setX'](at,ao['getX'](at-0x1)),ao['setY'](at,ao['getY'](at-0x1)),ao['setZ'](at,ao['getZ'](at-0x1));}ao['setX'](0x0,ag['x']),ao['setY'](0x0,ag['y']),ao['setZ'](0x0,ag['z']),ao['needsUpdate']=!![];const ap=0.6+Math['min'](ah['length']()/0xa,0.4);ai['material']['opacity']=ap,af['life']-=ad*0xf,am<0x1&&(a['remove'](af['mesh']),a['remove'](af['trailMesh']),C['splice'](ae,0x1),D--);}}function a1(){const ad=[];for(let ae=0x0;ae<0x2;ae++){const af=new THREE['ConeGeometry'](0.2,0x19,0x8),ag=new THREE['MeshBasicMaterial']({'color':ae===0x0?0xaaff:0x88cc,'transparent':!![],'opacity':0.5,'blending':THREE['AdditiveBlending']}),ah=new THREE['Mesh'](af,ag);ah['position']['y']=ae===0x0?12.5:-12.5;if(ae===0x1)ah['rotation']['x']=Math['PI'];a['add'](ah),ad['push'](ah);}return ad;}const a2=a1();let a3=![],a4=![],a5=0x0,a6=0x0,a7=0x0;document['addEventListener']('mousedown',ad=>{if(ad['button']===0x0)a3=!![];else ad['button']===0x2&&(ad['preventDefault'](),a4=!![],A=!![],B=0x3,document['getElementById']('gravity-status')['textContent']='2,5x');a5=ad['clientX'],a6=ad['clientY'];}),document['addEventListener']('mouseup',ad=>{if(ad['button']===0x0)a3=![];else ad['button']===0x2&&(a4=![],A=![],B=0x1,document['getElementById']('gravity-status')['textContent']='1x');}),document['addEventListener']('contextmenu',ad=>{ad['preventDefault']();}),document['addEventListener']('dblclick',ad=>{const ae=new THREE['Vector2']();ae['x']=ad['clientX']/window['innerWidth']*0x2-0x1,ae['y']=-(ad['clientY']/window['innerHeight'])*0x2+0x1;const af=new THREE['Raycaster']();af['setFromCamera'](ae,b);const ag=af['ray']['direction']['clone'](),ah=b['position']['clone']()['add'](ag['multiplyScalar'](0x5));Z(ah['x'],ah['y'],ah['z']);}),document['addEventListener']('mousemove',ad=>{if(a3&&!a4){const ae=ad['clientX']-a5,af=ad['clientY']-a6;z['camera']['targetTheta']-=ae*0.005*z['sensitivity'],z['camera']['targetPhi']=Math['max'](0.1,Math['min'](Math['PI']-0.1,z['camera']['targetPhi']+af*0.005*z['sensitivity'])),a5=ad['clientX'],a6=ad['clientY'];}}),document['addEventListener']('wheel',ad=>{const ae=ad['deltaY']>0x0?1.1:0.9;z['camera']['targetDistance']=Math['max'](z['minDistance'],Math['min'](z['maxDistance'],z['camera']['targetDistance']*ae));}),document['getElementById']('reset')['addEventListener']('click',ad=>{ad['preventDefault'](),z['camera']['targetDistance']=0xc,z['camera']['targetPhi']=Math['PI']*0.3,z['camera']['targetTheta']=0x0;}),document['getElementById']('toggle-warp')['addEventListener']('click',ad=>{ad['preventDefault'](),z['warpSpace']=!z['warpSpace'],H['uniforms']['uWarpSpace']['value']=z['warpSpace'];});let a8=0x0,a9=0x0,aa=Date['now']();function ab(){z['camera']['distance']+=(z['camera']['targetDistance']-z['camera']['distance'])*z['damping'],z['camera']['phi']+=(z['camera']['targetPhi']-z['camera']['phi'])*z['damping'],z['camera']['theta']+=(z['camera']['targetTheta']-z['camera']['theta'])*z['damping'];const ad=z['camera']['distance']*Math['sin'](z['camera']['phi'])*Math['cos'](z['camera']['theta']),ae=z['camera']['distance']*Math['cos'](z['camera']['phi']),af=z['camera']['distance']*Math['sin'](z['camera']['phi'])*Math['sin'](z['camera']['theta']);b['position']['set'](ad,ae,af),b['lookAt'](0x0,0x0,0x0),E['copy'](b['position']);}function ac(){const ad=Date['now'](),ae=(ad-aa)/0x3e8;aa=ad,a8+=ae,a9++,O['update'](ae),ab(),H['uniforms']['uTime']['value']=a8,H['uniforms']['uCameraPosition']['value']['copy'](E),a0(ae),U['forEach']((am,an)=>{let ao=0x1;am['radius']<0x5&&(ao=0x2+(0x5-am['radius'])*0.5);A&&(ao*=B);am['angle']+=am['baseSpeed']*ao*ae,am['mesh']['rotation']['y']=am['angle'];const ap=Math['sin'](a8*am['wobbleSpeed']+an)*am['wobble'];am['mesh']['rotation']['x']=-Math['PI']/0x2+ap;const aq=0.3+(0x1-an/U['length'])*0.5;let ar=aq+Math['sin'](a8*0.5+an)*0.1;if(A&&am['radius']<0x8){ar*=0.6;const as=Math['sin'](a8*0x8+an*0.5)*0.3;ar+=as;}am['mesh']['material']['opacity']=Math['max'](0.1,Math['min'](0x1,ar));});const af=Y['geometry']['attributes']['position']['array'],ag=Y['geometry']['attributes']['brightness']['array'],ah=Y['geometry']['attributes']['trail']['array'];for(let am=0x0;am<W['data']['length'];am++){const an=W['data'][am],ao=am*0x3;let ap=0x1;if(an['radius']<0x8)ap=0x3+(0x8-an['radius'])*1.5;else an['radius']<0xc&&(ap=1.5);A&&(ap*=B);an['angle']+=an['baseOrbitalSpeed']*ap*ae;const aq=Math['sin'](a8*an['wobbleSpeed']+an['phase'])*an['turbulence'],ar=an['baseHeight']+aq;let as=0x1;if(z['warpSpace']&&an['radius']<0x6){const aF=0x1/(an['radius']*an['radius']+0.8);as+=Math['sin'](a8*2.5+an['phase'])*aF*0.08;}if(A&&an['radius']<0xa){const aG=0x1/(an['radius']+0x1);as+=Math['sin'](a8*0x5+an['phase'])*aG*0.15;}const at=an['radius']*as;let au=at*Math['cos'](an['angle']),av=ar,aw=at*Math['sin'](an['angle']);const ay=new THREE['Vector3'](au,av,aw),aA=new THREE['Vector3']();for(const aH of C){const aI=aH['position'],aJ=new THREE['Vector3']()['subVectors'](aI,ay),aK=aJ['length'](),aL=0x2,aM=0.2,aN=0.0018;if(aK<aL&&aK>aM){const aO=aN/(aK*aK);aA['add'](aJ['normalize']()['multiplyScalar'](aO));}}if(aA['length']()>0x0){const aP=new THREE['Vector3'](aA['x'],0x0,aA['z']),aQ=new THREE['Vector3'](au,0x0,aw)['normalize'](),aR=new THREE['Vector3'](-aw,0x0,au)['normalize'](),aS=aP['dot'](aQ),aT=aP['dot'](aR);an['radius']-=aS*0x32*ae,an['angle']-=aT*0x32*ae;}an['radius']=Math['max'](an['radius'],0x5),au=an['radius']*Math['cos'](an['angle']),av=ar,aw=an['radius']*Math['sin'](an['angle']),af[ao]=au,af[ao+0x1]=av,af[ao+0x2]=aw;const aB=Math['sin'](a8*an['flickerSpeed']+an['phase']*0x2)*0.3;let aC=0x1+Math['sin'](a8*1.8+an['phase'])*0.4+aB;A&&an['radius']<0x8&&(aC*=1.9);ag[am]=an['brightnessFactor']*aC;const aD=an['baseOrbitalSpeed']*ap*0x32,aE=0x1+Math['sin'](a8*0.5+an['phase'])*0.3;ah[am]=an['trailLength']*aD*aE;}Y['geometry']['attributes']['position']['needsUpdate']=!![],Y['geometry']['attributes']['brightness']['needsUpdate']=!![],Y['geometry']['attributes']['trail']['needsUpdate']=!![];const ai=L['geometry']['attributes']['position']['array'],aj=L['data'],ak=0.05;L['rotationAngle']=(L['rotationAngle']||0x0)+ak*ae;for(let aU=0x0;aU<aj['length'];aU++){const aV=aj[aU],aW=aU*0x3,aX=aV['baseAngle']+L['rotationAngle'],aY=0x2+Math['sin'](a8*0.5+aV['randomPhase'])*1.5,aZ=Math['sin'](a8*0.3+aV['randomPhase']*0x2)*aY*0.5,b0=aX+Math['PI']/0x2;ai[aW]=aV['baseRadius']*Math['cos'](aX)+aZ*Math['cos'](b0),ai[aW+0x2]=aV['baseRadius']*Math['sin'](aX)+aZ*Math['sin'](b0);}L['geometry']['attributes']['position']['needsUpdate']=!![];const al=Q['geometry']['attributes']['position']['array'];for(let b1=0x0;b1<Q['particleCount'];b1++){const b2=b1*0x3,b3=Math['sqrt'](al[b2]*al[b2]+al[b2+0x2]*al[b2+0x2]),b4=0.1/Math['sqrt'](b3/0xf),b5=Math['atan2'](al[b2+0x2],al[b2])+b4*ae;al[b2]=b3*Math['cos'](b5),al[b2+0x2]=b3*Math['sin'](b5);}Q['geometry']['attributes']['position']['needsUpdate']=!![],N['rotation']['y']+=0.00005;if(Array['isArray'](a2)){const b6=Math['sin'](a8*0.4)*0.03,b7=Math['cos'](a8*0.4)*0.03;a2['forEach'](b8=>{if(!b8||!b8['geometry'])return;if(!b8['userData']['baseQuat']){b8['userData']['baseQuat']=b8['quaternion']['clone']();const bd=new THREE['Vector3'](0x0,0x1,0x0)['applyQuaternion'](b8['userData']['baseQuat']);b8['userData']['sign']=bd['y']>=0x0?0x1:-0x1;let be=b8['geometry']['parameters']?.['height'];be==null&&(b8['geometry']['computeBoundingBox'](),be=b8['geometry']['boundingBox']['max']['y']-b8['geometry']['boundingBox']['min']['y']),b8['userData']['H']=be||0x19;}const b9=b8['userData']['sign'],ba=b8['userData']['H'],bb=new THREE['Quaternion']()['setFromEuler'](new THREE['Euler'](0x0,0x0,b9*b7,'XYZ'));b8['quaternion']['copy'](b8['userData']['baseQuat'])['multiply'](bb);const bc=new THREE['Vector3'](0x0,-ba*0.5,0x0)['applyQuaternion'](b8['quaternion']);b8['position']['copy'](bc)['multiplyScalar'](-0x1);});}c['clear']();if(w===v['SHADER_ONLY'])H['uniforms']['uMixFactor']['value']=0x1,c['render'](y,x);else w===v['PHYSICS_ONLY']?c['render'](a,b):(H['uniforms']['uMixFactor']['value']=0.4,c['render'](a,b),c['render'](y,x));a9%0x3c===0x0&&(document['getElementById']('distance')['textContent']=z['camera']['distance']['toFixed'](0x1),document['getElementById']('mini-meteors')['textContent']=D,document['getElementById']('fps')['textContent']=Math['round'](0x1/ae)),requestAnimationFrame(ac);}window['addEventListener']('resize',()=>{b['aspect']=window['innerWidth']/window['innerHeight'],b['updateProjectionMatrix'](),c['setSize'](window['innerWidth'],window['innerHeight']),H['uniforms']['uResolution']['value']['set'](window['innerWidth'],window['innerHeight']);}),document['getElementById']('toggle-debug')['addEventListener']('click',ad=>{ad['preventDefault']();const ae=document['getElementById']('debug');ae['style']['display']==='none'?ae['style']['display']='block':ae['style']['display']='none';}),ac();
    </script>
  </body>
</html>





